{% macro device_card(device, draggable=false) %}
<div class="device-card{% if draggable %} draggable{% endif %}" data-device-name="{{ device.name }}" {% if draggable %}draggable="true"{% endif %}>
    <div class="device-info">
        <p class="device-name">{{ device.name }}</p>
        <p class="device-power">
            <span class="device-power-value">{{ device.typical_power_draw }}W (assumed)</span>
        </p>
        {% if device.energy_consumption %}
        <p class="device-energy">
            Today: {{ (device.energy_consumption.today )|round(2) }} kWh
        </p>
        {% endif %}
        <p class="device-power-delivered">
            Energy Delivered: {{ device.energy_delivered_today|round(2) }} kWh
        </p>
    </div>
    {% if not draggable %}
    <div class="device-actions">
        <button class="edit-device button" data-device-name="{{ device.name }}">Edit</button>
        <button class="delete-device button" data-device-name="{{ device.name }}">Delete</button>
    </div>
    {% else %}
    <label class="switch">
        <input type="checkbox" class="device-toggle" data-device-name="{{ device.name }}">
        <span class="slider round"></span>
    </label>
    {% endif %}
</div>
{% endmacro %}
