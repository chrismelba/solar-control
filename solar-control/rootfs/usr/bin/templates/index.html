{% extends "base.html" %}

{% block title %}Solar Control Dashboard{% endblock %}

{% block heading %}Solar Control Dashboard{% endblock %}

{% block content %}
    <div class="nav-menu">
        <a href="{{ url_for('configure_solar') }}" class="button">Configure Solar</a>
        <a href="{{ url_for('configure_battery') }}" class="button">Configure Battery</a>
        <a href="{{ url_for('configure_devices') }}" class="button">Configure Devices</a>
    </div>
    
    <div class="card" id="status">
        <h2>System Status</h2>
        <p>Loading status...</p>
    </div>

    <script>
        // Fetch status from API
        fetch('/api/status')
            .then(response => response.json())
            .then(data => {
                document.querySelector('#status p').textContent = 
                    `Status: ${data.status}, Version: ${data.version}`;
            })
            .catch(error => {
                document.querySelector('#status p').textContent = 
                    'Error loading status';
            });
    </script>
{% endblock %} 